{"ast":null,"code":"var _jsxFileName = \"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/src/components/compensation/compensation-layout.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport { Divider, Button, Row, PageHeader } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { BASE_URL } from '../../OfferAPI';\nimport { YearlyCompensation, YearlySavings, DataTransform } from './Graphs';\nimport numberWithCommas from '../../tools/numbersWithCommas';\nimport CompensationHeader from './CompensationHeader';\nimport CompensationConfiguration from './CompensationConfiguration';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SECTION_HEADER_CLASSNAME = 'section-header';\nconst baseColor = '#9696CE';\nconst bonusColor = '#81DDB0';\nconst spendingColor = '#9881dd';\nconst savingsColor = '#cece96';\nconst retirementColor = '#dda481'; // const equityColor = '#DDC981';\n// TODO: connect to api\n\nconst fetchCompensationData = async (id, company, setters) => {\n  const token = localStorage.getItem('token');\n  console.log('fetching');\n  const resp = await axios.post(`${BASE_URL}api_v1/fetch_offer`, {\n    id,\n    company\n  }, {\n    headers: {\n      Authorization: token\n    }\n  });\n  const {\n    base,\n    bonus,\n    state\n  } = resp.data;\n  const signing = 0;\n  const taxResp = await axios.post(`${BASE_URL}api_v1/fed_taxes`, {\n    married: 'not-married',\n    income: base + bonus\n  }, {\n    headers: {\n      Authorization: token\n    }\n  });\n  const fedTaxRate = taxResp.data.fed_tax_percent;\n  const stateTaxResp = await axios.post(`${BASE_URL}api_v1/state_taxes`, {\n    married: 'not-married',\n    income: base + bonus,\n    state\n  }, {\n    headers: {\n      Authorization: token\n    }\n  });\n  const stateTaxRate = stateTaxResp.data.state_tax_percent;\n  const {\n    setBase,\n    setBonus,\n    setSigning,\n    setFederalTaxRate,\n    setStateTaxRate\n  } = setters;\n  setBase(base != null ? base : 0);\n  setBonus(bonus != null ? bonus : 0);\n  setSigning(0);\n  setFederalTaxRate(fedTaxRate);\n  setStateTaxRate(stateTaxRate);\n};\n\nconst updateComplimentary = (updateSpendingPercentage, updateSavingsPercentage) => savingsValue => {\n  updateSpendingPercentage(100 - savingsValue);\n  updateSavingsPercentage(savingsValue);\n};\n\nconst CompensationLayout = props => {\n  _s();\n\n  const {\n    match,\n    offer\n  } = props;\n  let {\n    id,\n    company\n  } = match.params;\n\n  if (id == null || company == null) {\n    // didn't find a match from url, try to grab prop from offer\n    id = offer.id;\n    company = offer.company;\n  }\n\n  console.log('SUBMISSION PARAMS', id, company);\n  const [base, setBase] = useState(0);\n  const [bonus, setBonus] = useState(0);\n  const [signing, setSigning] = useState(0);\n  const [federalTax, setFederalTaxRate] = useState(0);\n  const [stateTax, setStateTaxRate] = useState(0);\n  const [bonusAppreciationRate, setBonusAppreciationRate] = useState(0);\n  const [baseAppreciationRate, setBaseAppreciationRate] = useState(0);\n  const [spendingPercentage, setSpendingPercentage] = useState(60);\n  const [savingsPercentage, setSavingsPercentage] = useState(30);\n  const [retirementPercentage, setRetirementPercentage] = useState(4); // used to record which graph to show\n\n  const [showCompensation, setShowCompenstaion] = useState(true);\n  fetchCompensationData(id, company, {\n    setBase,\n    setBonus,\n    setSigning,\n    setFederalTaxRate,\n    setStateTaxRate\n  });\n\n  const updateValue = setter => value => {\n    setter(value);\n  };\n\n  const totalCompensation = base + bonus;\n  console.log(bonusAppreciationRate, baseAppreciationRate);\n  const graphData = DataTransform({\n    base,\n    bonus,\n    federalTax,\n    stateTax\n  }, baseAppreciationRate, bonusAppreciationRate, savingsPercentage, retirementPercentage, 7);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CompensationHeader, {\n      totalCompensation: numberWithCommas(totalCompensation),\n      position: \"\" // CURRENTLY DO NOT HAVE POSITION DATA\n      ,\n      company: company\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CompensationConfiguration, {\n      id: id,\n      company: company,\n      base: base,\n      bonus: bonus,\n      savingsPercentage: savingsPercentage,\n      retirementPercentage: retirementPercentage,\n      updateBaseRate: updateValue(setBaseAppreciationRate),\n      updateBonusRate: updateValue(setBonusAppreciationRate),\n      updateSavingsPercentage: updateComplimentary(setSpendingPercentage, setSavingsPercentage),\n      updateRetirementPercentage: updateValue(setRetirementPercentage),\n      baseColor: baseColor,\n      bonusColor: bonusColor,\n      savingsColor: savingsColor,\n      retirementColor: retirementColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        // position: 'sticky', // TODO: NEED TO ADD TOGGLE BEFORE WE MAKE THIS STICKY\n        bottom: 0,\n        opacity: 1,\n        zIndex: 5000,\n        // arbitrary high value\n        backgroundColor: '#F0F2F5'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        style: {\n          backgroundColor: 'black'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n        className: SECTION_HEADER_CLASSNAME,\n        title: \"Compensation\",\n        subTitle: \"Here's a quick rundown of your financials.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"start\",\n        children: [showCompensation ? /*#__PURE__*/_jsxDEV(YearlyCompensation, {\n          data: graphData,\n          baseColor: baseColor,\n          bonusColor: bonusColor,\n          spendingPercentage: spendingPercentage,\n          savingsPercentage: savingsPercentage,\n          retirementPercentage: retirementPercentage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(YearlySavings, {\n          data: graphData,\n          spendingColor: spendingColor,\n          savingsColor: savingsColor,\n          retirementColor: retirementColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setShowCompenstaion(!showCompensation);\n          },\n          children: showCompensation ? 'Show Savings Graph' : 'Show Compensation Graph'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CompensationLayout, \"tgrOBmjP5r6tn5ZDtGkMzRZZp74=\");\n\n_c = CompensationLayout;\nexport default _c2 = withRouter(CompensationLayout);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CompensationLayout\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/src/components/compensation/compensation-layout.jsx"],"names":["Divider","Button","Row","PageHeader","withRouter","React","useState","axios","BASE_URL","YearlyCompensation","YearlySavings","DataTransform","numberWithCommas","CompensationHeader","CompensationConfiguration","SECTION_HEADER_CLASSNAME","baseColor","bonusColor","spendingColor","savingsColor","retirementColor","fetchCompensationData","id","company","setters","token","localStorage","getItem","console","log","resp","post","headers","Authorization","base","bonus","state","data","signing","taxResp","married","income","fedTaxRate","fed_tax_percent","stateTaxResp","stateTaxRate","state_tax_percent","setBase","setBonus","setSigning","setFederalTaxRate","setStateTaxRate","updateComplimentary","updateSpendingPercentage","updateSavingsPercentage","savingsValue","CompensationLayout","props","match","offer","params","federalTax","stateTax","bonusAppreciationRate","setBonusAppreciationRate","baseAppreciationRate","setBaseAppreciationRate","spendingPercentage","setSpendingPercentage","savingsPercentage","setSavingsPercentage","retirementPercentage","setRetirementPercentage","showCompensation","setShowCompenstaion","updateValue","setter","value","totalCompensation","graphData","bottom","opacity","zIndex","backgroundColor"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport {\n  Divider,\n  Button,\n  Row,\n  PageHeader,\n} from 'antd';\n\nimport { withRouter } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { BASE_URL } from '../../OfferAPI';\nimport { YearlyCompensation, YearlySavings, DataTransform } from './Graphs';\nimport numberWithCommas from '../../tools/numbersWithCommas';\nimport CompensationHeader from './CompensationHeader';\nimport CompensationConfiguration from './CompensationConfiguration';\n\nconst SECTION_HEADER_CLASSNAME = 'section-header';\nconst baseColor = '#9696CE';\nconst bonusColor = '#81DDB0';\nconst spendingColor = '#9881dd';\nconst savingsColor = '#cece96';\nconst retirementColor = '#dda481';\n// const equityColor = '#DDC981';\n\n// TODO: connect to api\nconst fetchCompensationData = async (id, company, setters) => {\n  const token = localStorage.getItem('token');\n  console.log('fetching');\n  const resp = await axios.post(`${BASE_URL}api_v1/fetch_offer`, {\n    id,\n    company,\n  }, {\n    headers: { Authorization: token },\n  });\n\n  const {\n    base,\n    bonus,\n    state,\n  } = resp.data;\n  const signing = 0;\n\n  const taxResp = await axios.post(`${BASE_URL}api_v1/fed_taxes`, {\n    married: 'not-married',\n    income: base + bonus,\n  }, {\n    headers: { Authorization: token },\n  });\n\n  const fedTaxRate = taxResp.data.fed_tax_percent;\n\n  const stateTaxResp = await axios.post(`${BASE_URL}api_v1/state_taxes`, {\n    married: 'not-married',\n    income: base + bonus,\n    state,\n  }, {\n    headers: { Authorization: token },\n  });\n\n  const stateTaxRate = stateTaxResp.data.state_tax_percent;\n  const {\n    setBase,\n    setBonus,\n    setSigning,\n    setFederalTaxRate,\n    setStateTaxRate,\n  } = setters;\n\n  setBase(base != null ? base : 0);\n  setBonus(bonus != null ? bonus : 0);\n  setSigning(0);\n  setFederalTaxRate(fedTaxRate);\n  setStateTaxRate(stateTaxRate);\n};\n\nconst updateComplimentary = (updateSpendingPercentage,\n  updateSavingsPercentage) => (savingsValue) => {\n  updateSpendingPercentage(100 - savingsValue);\n  updateSavingsPercentage(savingsValue);\n};\n\nconst CompensationLayout = (props) => {\n  const { match, offer } = props;\n  let { id, company } = match.params;\n\n  if (id == null || company == null) { // didn't find a match from url, try to grab prop from offer\n    id = offer.id;\n    company = offer.company;\n  }\n  console.log('SUBMISSION PARAMS', id, company);\n\n  const [base, setBase] = useState(0);\n  const [bonus, setBonus] = useState(0);\n  const [signing, setSigning] = useState(0);\n  const [federalTax, setFederalTaxRate] = useState(0);\n  const [stateTax, setStateTaxRate] = useState(0);\n\n  const [bonusAppreciationRate, setBonusAppreciationRate] = useState(0);\n  const [baseAppreciationRate, setBaseAppreciationRate] = useState(0);\n  const [spendingPercentage, setSpendingPercentage] = useState(60);\n  const [savingsPercentage, setSavingsPercentage] = useState(30);\n  const [retirementPercentage, setRetirementPercentage] = useState(4);\n  // used to record which graph to show\n  const [showCompensation, setShowCompenstaion] = useState(true);\n\n  fetchCompensationData(id, company, {\n    setBase, setBonus, setSigning, setFederalTaxRate, setStateTaxRate,\n  });\n\n  const updateValue = (setter) => (value) => {\n    setter(value);\n  };\n\n  const totalCompensation = base + bonus;\n\n  console.log(bonusAppreciationRate, baseAppreciationRate);\n  const graphData = DataTransform({\n    base, bonus, federalTax, stateTax,\n  },\n  baseAppreciationRate, bonusAppreciationRate, savingsPercentage, retirementPercentage, 7);\n  return (\n    <>\n      <CompensationHeader\n        totalCompensation={numberWithCommas(totalCompensation)}\n        position='' // CURRENTLY DO NOT HAVE POSITION DATA\n        company={company}\n      />\n      <Divider />\n      <CompensationConfiguration\n        id={id}\n        company={company}\n        base={base}\n        bonus={bonus}\n        savingsPercentage={savingsPercentage}\n        retirementPercentage={retirementPercentage}\n        updateBaseRate={updateValue(setBaseAppreciationRate)}\n        updateBonusRate={updateValue(setBonusAppreciationRate)}\n        updateSavingsPercentage={updateComplimentary(setSpendingPercentage, setSavingsPercentage)}\n        updateRetirementPercentage={updateValue(setRetirementPercentage)}\n        baseColor={baseColor}\n        bonusColor={bonusColor}\n        savingsColor={savingsColor}\n        retirementColor={retirementColor}\n      />\n      <div style={{\n        // position: 'sticky', // TODO: NEED TO ADD TOGGLE BEFORE WE MAKE THIS STICKY\n        bottom: 0,\n        opacity: 1,\n        zIndex: 5000, // arbitrary high value\n        backgroundColor: '#F0F2F5',\n      }}\n      >\n        <Divider style={{ backgroundColor: 'black' }} />\n        <PageHeader\n          className={SECTION_HEADER_CLASSNAME}\n          title='Compensation'\n          subTitle=\"Here's a quick rundown of your financials.\"\n        />\n        <Row justify='start'>\n          {showCompensation ? (\n            <YearlyCompensation\n              data={graphData}\n              baseColor={baseColor}\n              bonusColor={bonusColor}\n              spendingPercentage={spendingPercentage}\n              savingsPercentage={savingsPercentage}\n              retirementPercentage={retirementPercentage}\n            />\n          ) : (\n            <YearlySavings\n              data={graphData}\n              spendingColor={spendingColor}\n              savingsColor={savingsColor}\n              retirementColor={retirementColor}\n            />\n          )}\n          <Button\n            onClick={() => {\n              setShowCompenstaion(!showCompensation);\n            }}\n          >\n            {showCompensation ? 'Show Savings Graph' : 'Show Compensation Graph'}\n\n          </Button>\n        </Row>\n\n      </div>\n\n    </>\n  );\n};\n\nexport default withRouter(CompensationLayout);\n"]},"metadata":{},"sourceType":"module"}