{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';export var BASE_URL='https://visuol-api.herokuapp.com/';// Calls the backend api and receives the offer\nexport var getOffer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var tokenString,config,offer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:tokenString=localStorage.getItem('token');config={Authorization:tokenString};_context.next=4;return axios.get(\"\".concat(BASE_URL,\"api_v1/users_offers\"),data,{headers:config}).then(function(response){return response.data;});case 4:offer=_context.sent;return _context.abrupt(\"return\",offer);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getOffer(_x){return _ref.apply(this,arguments);};}();// Calls the backend api to post the offer in the database\nexport function postOffer(offer){var data=Object.assign(offer);data.base=Number.parseInt(offer.base,10);data.bonus=Number.parseInt(offer.bonus,10);data.matchPercentage=Number.parseInt(offer.matchPercentage,10);data.stocks=Number.parseInt(offer.stocks,10);data.PTO=Number.parseInt(offer.PTO,10);var tokenString=localStorage.getItem('token');var headers={Authorization:tokenString// 'Access-Control-Allow-Origin': 'http://localhost:3000'\n};console.log('createOfferData',data);axios.post(\"\".concat(BASE_URL,\"api_v1/create_offer\"),offer,{headers:headers}).then(function(response){console.log('submitted',response);return response;});}// retrieves a list of all the offers that a user has\nexport var myOffers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var tokenString,config,offers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:tokenString=localStorage.getItem('token');config={Authorization:tokenString};_context2.next=4;return axios.get(\"\".concat(BASE_URL,\"api_v1/users_offers\"),{headers:config}).then(function(response){return response.data;});case 4:offers=_context2.sent;return _context2.abrupt(\"return\",offers);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function myOffers(){return _ref2.apply(this,arguments);};}();export var shareOffer=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,email){var tokenString,headers,data,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:tokenString=localStorage.getItem('token');headers={Authorization:tokenString};data={id:id,email:email};_context3.next=5;return axios.post(\"\".concat(BASE_URL,\"api_v1/share_offer\"),data,{headers:headers});case 5:result=_context3.sent;return _context3.abrupt(\"return\",result);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function shareOffer(_x2,_x3){return _ref3.apply(this,arguments);};}();export var updateOffer=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id,base,bonus){var tokenString,headers,data,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:tokenString=localStorage.getItem('token');headers={Authorization:tokenString};data={id:id,base:base,bonus:bonus};_context4.next=5;return axios.post(\"\".concat(BASE_URL,\"api_v1/update_offer\"),data,{headers:headers});case 5:result=_context4.sent;return _context4.abrupt(\"return\",result);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function updateOffer(_x4,_x5,_x6){return _ref4.apply(this,arguments);};}();export var myAccount=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var tokenString,config,userAccount;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:tokenString=localStorage.getItem('token');config={Authorization:tokenString};_context5.next=4;return axios.get(\"\".concat(BASE_URL,\"api_v1/user\"),{headers:config}).then(function(response){return response.data;});case 4:userAccount=_context5.sent;return _context5.abrupt(\"return\",userAccount.company);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function myAccount(){return _ref5.apply(this,arguments);};}();export var myShared=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var tokenString,config,offers;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log('getting shared');tokenString=localStorage.getItem('token');config={Authorization:tokenString};_context6.next=5;return axios.get(\"\".concat(BASE_URL,\"api_v1/get_shared\"),{headers:config}).then(function(response){return response.data;});case 5:offers=_context6.sent;console.log(offers);return _context6.abrupt(\"return\",offers);case 8:case\"end\":return _context6.stop();}}},_callee6);}));return function myShared(){return _ref6.apply(this,arguments);};}();export var removeOffer=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var tokenString,headers,result;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:tokenString=localStorage.getItem('token');headers={Authorization:tokenString};console.log(tokenString);console.log(headers);_context7.next=6;return axios.delete(\"\".concat(BASE_URL,\"api_v1/remove_offer\"),{headers:headers,data:{id:id}});case 6:result=_context7.sent;return _context7.abrupt(\"return\",result);case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function removeOffer(_x7){return _ref7.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/src/OfferAPI.js"],"names":["axios","BASE_URL","getOffer","data","tokenString","localStorage","getItem","config","Authorization","get","headers","then","response","offer","postOffer","Object","assign","base","Number","parseInt","bonus","matchPercentage","stocks","PTO","console","log","post","myOffers","offers","shareOffer","id","email","result","updateOffer","myAccount","userAccount","company","myShared","removeOffer","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport const BASE_URL = 'https://visuol-api.herokuapp.com/';\n\n// Calls the backend api and receives the offer\nexport const getOffer = async (data) => {\n  const tokenString = localStorage.getItem('token');\n\n  const config = {\n    Authorization: tokenString,\n  };\n\n  const offer = await axios.get(`${BASE_URL}api_v1/users_offers`, data, { headers: config })\n    .then((response) => response.data);\n\n  return offer;\n};\n\n// Calls the backend api to post the offer in the database\nexport function postOffer(offer) {\n  const data = Object.assign(offer);\n  data.base = Number.parseInt(offer.base, 10);\n  data.bonus = Number.parseInt(offer.bonus, 10);\n  data.matchPercentage = Number.parseInt(offer.matchPercentage, 10);\n  data.stocks = Number.parseInt(offer.stocks, 10);\n  data.PTO = Number.parseInt(offer.PTO, 10);\n  const tokenString = localStorage.getItem('token');\n  const headers = {\n    Authorization: tokenString,\n    // 'Access-Control-Allow-Origin': 'http://localhost:3000'\n  };\n\n  console.log('createOfferData', data);\n\n  axios.post(`${BASE_URL}api_v1/create_offer`, offer, {\n    headers,\n  })\n    .then((response) => {\n      console.log('submitted', response);\n      return response;\n    });\n}\n\n// retrieves a list of all the offers that a user has\nexport const myOffers = async () => {\n  const tokenString = localStorage.getItem('token');\n\n  const config = {\n    Authorization: tokenString,\n  };\n\n  const offers = await axios.get(`${BASE_URL}api_v1/users_offers`, { headers: config })\n    .then((response) => response.data);\n\n  return offers;\n};\n\nexport const shareOffer = async (id, email) => {\n  const tokenString = localStorage.getItem('token');\n\n  const headers = {\n    Authorization: tokenString,\n  };\n\n  const data = { id, email };\n\n  const result = await axios.post(`${BASE_URL}api_v1/share_offer`, data, {\n    headers,\n  });\n\n  return result;\n};\n\nexport const updateOffer = async (id, base, bonus) => {\n  const tokenString = localStorage.getItem('token');\n\n  const headers = {\n    Authorization: tokenString,\n  };\n\n  const data = { id, base, bonus };\n\n  const result = await axios.post(`${BASE_URL}api_v1/update_offer`, data, {\n    headers,\n  });\n\n  return result;\n};\n\nexport const myAccount = async () => {\n  const tokenString = localStorage.getItem('token');\n\n  const config = {\n    Authorization: tokenString,\n  };\n\n  const userAccount = await axios.get(`${BASE_URL}api_v1/user`, { headers: config })\n    .then((response) => response.data);\n\n  return userAccount.company;\n};\n\nexport const myShared = async () => {\n  console.log('getting shared');\n  const tokenString = localStorage.getItem('token');\n\n  const config = {\n    Authorization: tokenString,\n  };\n\n  const offers = await axios.get(`${BASE_URL}api_v1/get_shared`, { headers: config })\n    .then((response) => response.data);\n  console.log(offers);\n  return offers;\n};\n\nexport const removeOffer = async (id) => {\n  const tokenString = localStorage.getItem('token');\n\n  const headers = {\n    Authorization: tokenString,\n  };\n  console.log(tokenString);\n  console.log(headers);\n\n  const result = await axios.delete(`${BASE_URL}api_v1/remove_offer`, {\n    headers,\n    data: {\n      id,\n    },\n  });\n\n  return result;\n};\n"]},"metadata":{},"sourceType":"module"}