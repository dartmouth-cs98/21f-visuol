{"ast":null,"code":"import _defineProperty from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/* eslint-disable react/destructuring-assignment */ /* eslint-disable react/no-access-state-in-setstate */ /* eslint-disable react/jsx-max-props-per-line */ /* eslint-disable react/jsx-first-prop-new-line */ // import { Form, Input, Button } from 'antd';\nimport React,{Component}from'react';import'antd/dist/antd.css';import{Button}from'antd';import axios from'axios';import{withRouter}from'react-router-dom';import CompanyDetails from'./CompanyDetails';import Stocks from'./Stocks';import AdditionalBenefits from'./AdditionalBenefits';import'./NewOfferForm.css';import{myAccount,BASE_URL}from'../../OfferAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewOfferForm=/*#__PURE__*/function(_Component){_inherits(NewOfferForm,_Component);var _super=_createSuper(NewOfferForm);function NewOfferForm(props){var _this;_classCallCheck(this,NewOfferForm);_this=_super.call(this,props);_this.prevStep=function(){var step=_this.state.step;_this.setState({step:step-1});};_this.nextStep=function(){var step=_this.state.step;_this.setState({step:step+1});};_this.handleChange=function(input){return function(e){if(input!=='total'){_this.setState(_defineProperty({},input,e.target.value));}else{_this.setState({base:_this.state.base*_this.state.weeks*_this.state.hours});}};};_this.handleSubmit=function(){_this.postOffer(_this.state);// push to new page\n};_this.showStocksQuestion=function(){_this.setState({showStocks:true});};_this.askAdditionalBenefitsQuestion=function(){_this.setState({askAdditionalBenefits:true});};_this.showAdditionalBenefitsQuestion=function(){_this.setState({showAdditionalBenefits:true});};_this.showSubmitButton=function(){_this.setState({showSubmit:true});};_this.postOffer=function(offer){var data=Object.assign(offer);data.base=Number.parseInt(offer.base,10);data.bonus=Number.parseInt(offer.bonus,10);data.matchPercentage=Number.parseInt(offer.matchPercentage,10);data.stocks=Number.parseInt(offer.stocks,10);data.PTO=Number.parseInt(offer.PTO,10);data.state=offer.state;var tokenString=localStorage.getItem('token');var headers={Authorization:tokenString// 'Access-Control-Allow-Origin': 'http://localhost:3000'\n};console.log('createOfferData',data);axios.post(\"\".concat(BASE_URL,\"api_v1/create_offer\"),offer,{headers:headers}).then(function(response){console.log('submitted',response);if(response.data.id){var _this$props=_this.props,history=_this$props.history,match=_this$props.match;// eslint-disable-next-line react/destructuring-assignment\nhistory.push(\"\".concat(match.url.substring(0,match.url.lastIndexOf('/')+1),\"LoadGraphs/\").concat(_this.state.company,\"/\").concat(response.data.id));window.location.reload();}return response;});};_this.state={recruiterCompany:'',step:1,askStocks:false,showStocks:false,askAdditionalBenefits:false,showAdditionalBenefits:false,showSubmit:false,company:'',startDate:'',expiration:'',base:'',bonus:'',matchPercentage:'',stocks:'',PTO:'',hours:'',weeks:'',state:''};return _this;}_createClass(NewOfferForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;myAccount().then(function(response){_this2.setState({recruiterCompany:response});});}},{key:\"render\",value:function render(){var _this$state=this.state,recruiterCompany=_this$state.recruiterCompany,company=_this$state.company,askStocks=_this$state.askStocks,showStocks=_this$state.showStocks,askAdditionalBenefits=_this$state.askAdditionalBenefits,showAdditionalBenefits=_this$state.showAdditionalBenefits,showSubmit=_this$state.showSubmit,baseSalary=_this$state.baseSalary,stocks=_this$state.stocks,bonus=_this$state.bonus,matchPercentage=_this$state.matchPercentage,state=_this$state.state;var values={recruiterCompany:recruiterCompany,company:company,askStocks:askStocks,showStocks:showStocks,showSubmit:showSubmit,askAdditionalBenefits:askAdditionalBenefits,showAdditionalBenefits:showAdditionalBenefits,baseSalary:baseSalary,stocks:stocks,bonus:bonus,matchPercentage:matchPercentage,state:state};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CompanyDetails,{handleChange:this.handleChange,values:values}),/*#__PURE__*/_jsx(\"h3\",{children:\"STOCKS\"}),/*#__PURE__*/_jsx(\"hr\",{width:\"10%\",align:\"left\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Stocks,{handleChange:this.handleChange,values:values})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"ADDITIONAL BENEFITS\"}),/*#__PURE__*/_jsx(\"hr\",{width:\"10%\",align:\"left\"}),/*#__PURE__*/_jsx(AdditionalBenefits,{handleChange:this.handleChange,values:values})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"yes-no-button\",onClick:this.handleSubmit,children:\"Done\"})})]});}}]);return NewOfferForm;}(Component);export default withRouter(NewOfferForm);","map":{"version":3,"sources":["/Users/jamesverschleiser/VisuOL/21f-visuol/visuol/src/components/NewOffer/NewOfferForm.jsx"],"names":["React","Component","Button","axios","withRouter","CompanyDetails","Stocks","AdditionalBenefits","myAccount","BASE_URL","NewOfferForm","props","prevStep","step","state","setState","nextStep","handleChange","input","e","target","value","base","weeks","hours","handleSubmit","postOffer","showStocksQuestion","showStocks","askAdditionalBenefitsQuestion","askAdditionalBenefits","showAdditionalBenefitsQuestion","showAdditionalBenefits","showSubmitButton","showSubmit","offer","data","Object","assign","Number","parseInt","bonus","matchPercentage","stocks","PTO","tokenString","localStorage","getItem","headers","Authorization","console","log","post","then","response","id","history","match","push","url","substring","lastIndexOf","company","window","location","reload","recruiterCompany","askStocks","startDate","expiration","baseSalary","values"],"mappings":"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","sourcesContent":["/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/no-access-state-in-setstate */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-first-prop-new-line */\n// import { Form, Input, Button } from 'antd';\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Button } from 'antd';\n\nimport axios from 'axios';\n\nimport { withRouter } from 'react-router-dom';\nimport CompanyDetails from './CompanyDetails';\nimport Stocks from './Stocks';\nimport AdditionalBenefits from './AdditionalBenefits';\nimport './NewOfferForm.css';\nimport { myAccount, BASE_URL } from '../../OfferAPI';\n\nclass NewOfferForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      recruiterCompany: '',\n      step: 1,\n      askStocks: false,\n      showStocks: false,\n      askAdditionalBenefits: false,\n      showAdditionalBenefits: false,\n      showSubmit: false,\n      company: '',\n      startDate: '',\n      expiration: '',\n      base: '',\n      bonus: '',\n      matchPercentage: '',\n      stocks: '',\n      PTO: '',\n      hours: '',\n      weeks: '',\n      state: '',\n    };\n  }\n\n  componentDidMount() {\n    myAccount()\n      .then((response) => {\n        this.setState({\n          recruiterCompany: response,\n        });\n      });\n  }\n\n      prevStep = () => {\n        const { step } = this.state;\n        this.setState({ step: step - 1 });\n      }\n\n      nextStep = () => {\n        const { step } = this.state;\n        this.setState({ step: step + 1 });\n      }\n\n      handleChange = (input) => (e) => {\n        if (input !== 'total') {\n          this.setState({ [input]: e.target.value });\n        } else {\n          this.setState({ base: this.state.base * this.state.weeks * this.state.hours });\n        }\n      }\n\n      handleSubmit = () => {\n        this.postOffer(this.state);\n        // push to new page\n      }\n\n      showStocksQuestion = () => {\n        this.setState({ showStocks: true });\n      }\n\n      askAdditionalBenefitsQuestion = () => {\n        this.setState({ askAdditionalBenefits: true });\n      }\n\n      showAdditionalBenefitsQuestion = () => {\n        this.setState({ showAdditionalBenefits: true });\n      }\n\n      showSubmitButton = () => {\n        this.setState({ showSubmit: true });\n      }\n\n      // Calls the backend api to post the offer in the database\n      postOffer = (offer) => {\n        const data = Object.assign(offer);\n        data.base = Number.parseInt(offer.base, 10);\n        data.bonus = Number.parseInt(offer.bonus, 10);\n        data.matchPercentage = Number.parseInt(offer.matchPercentage, 10);\n        data.stocks = Number.parseInt(offer.stocks, 10);\n        data.PTO = Number.parseInt(offer.PTO, 10);\n        data.state = offer.state;\n        const tokenString = localStorage.getItem('token');\n        const headers = {\n          Authorization: tokenString,\n          // 'Access-Control-Allow-Origin': 'http://localhost:3000'\n        };\n\n        console.log('createOfferData', data);\n        axios.post(`${BASE_URL}api_v1/create_offer`, offer, {\n          headers,\n        })\n          .then((response) => {\n            console.log('submitted', response);\n            if (response.data.id) {\n              const { history, match } = this.props;\n              // eslint-disable-next-line react/destructuring-assignment\n              history.push(`${match.url.substring(0, match.url.lastIndexOf('/') + 1)}LoadGraphs/${this.state.company}/${response.data.id}`);\n              window.location.reload();\n            }\n            return response;\n          });\n      }\n\n      render() {\n        const {\n          recruiterCompany, company, askStocks, showStocks, askAdditionalBenefits,\n          showAdditionalBenefits, showSubmit, baseSalary, stocks, bonus, matchPercentage, state,\n        } = this.state;\n        const values = {\n          recruiterCompany,\n          company,\n          askStocks,\n          showStocks,\n          showSubmit,\n          askAdditionalBenefits,\n          showAdditionalBenefits,\n          baseSalary,\n          stocks,\n          bonus,\n          matchPercentage,\n          state,\n        };\n\n        return (\n          <div>\n            <CompanyDetails handleChange={this.handleChange} values={values} />\n            <h3>STOCKS</h3>\n            <hr width='10%' align='left' />\n\n            <div>\n              <Stocks handleChange={this.handleChange} values={values} />\n            </div>\n\n            <div>\n              <h3>ADDITIONAL BENEFITS</h3>\n              <hr width='10%' align='left' />\n              <AdditionalBenefits handleChange={this.handleChange} values={values} />\n\n            </div>\n            <div className='flex-container'>\n              <Button type='button' className='yes-no-button' onClick={this.handleSubmit}>Done</Button>\n            </div>\n          </div>\n        );\n      }\n}\n\nexport default withRouter(NewOfferForm);\n"]},"metadata":{},"sourceType":"module"}